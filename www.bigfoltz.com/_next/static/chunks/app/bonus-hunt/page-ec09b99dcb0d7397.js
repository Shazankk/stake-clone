(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{3023:function(e,s,n){Promise.resolve().then(n.bind(n,2929))},8064:function(e,s,n){"use strict";Object.defineProperty(s,"$",{enumerable:!0,get:function(){return a}});let i=n(4590);function a(e){let{createServerReference:s}=n(6671);return s(e,i.callServer)}},2929:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return _}});var i=n(7437),a=n(2265),r=n(4147),o=n.n(r);n(4590);var l=n(8064),c=(0,l.$)("c8599a2caf518713b2d996f90c2b6c4dfae4ef39"),t=(0,l.$)("727e8bdf7fe8d7eb85d4821ac596d672b69f757f"),u=n(3058),d=n(998),_=function(){let{data:e}=(0,d.useSession)(),[s,n]=(0,a.useState)([]),[r,l]=(0,a.useState)(null),[_,x]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1),[m,b]=(0,a.useState)(""),[N,v]=(0,a.useState)([]),[j,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let s=async()=>{x(!0);try{let[s,i,a,r,o]=await Promise.all([t(),c(),fetch("/api/predictions/status").then(e=>e.json()),fetch("/api/predictions/GetWinner").then(e=>e.json()),e?fetch("/api/predictions/state").then(e=>e.json()):null]);n(s),l(i),p(a.status),v(r.winners||[]),(null==o?void 0:o.prediction)&&f(!0)}catch(e){console.error("Error fetching data:",e)}finally{x(!1)}};s();let i=setInterval(s,6e6);return()=>clearInterval(i)},[e]);let g=async()=>{if(!m||isNaN(m)){alert("Please enter a valid prediction.");return}try{let s=await fetch("/api/predictions/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prediction:m,userId:e.user.id})});if(s.ok)f(!0);else{let e=await s.json();alert(e.message)}}catch(e){console.error("Error submitting prediction:",e)}};return(0,i.jsxs)("div",{className:"w-full min-h-screen flex flex-col items-center",children:[(0,i.jsx)("div",{className:"".concat(o().sectionsTitle," ").concat(o().center),children:"BONUS HUNT"}),(0,i.jsx)("div",{className:"".concat(o().container),children:_?(0,i.jsx)(u.Z,{}):(0,i.jsxs)("div",{className:o().bonushuntWrapper,children:[(0,i.jsxs)("div",{className:o().bonushuntLeft,children:[(0,i.jsx)("div",{className:o().infoBoxes,children:(0,i.jsxs)("div",{className:"".concat(o().infoBox),children:[(0,i.jsxs)("div",{className:o().subbox,children:[(0,i.jsx)("div",{className:o().subboxValue,children:null==s?void 0:s.id}),(0,i.jsx)("div",{className:o().subboxDesc,children:"HUNT ID"})]}),(0,i.jsxs)("div",{className:o().subbox,children:[(0,i.jsx)("div",{className:o().subboxValue,children:null==s?void 0:s.bonus_count_total}),(0,i.jsx)("div",{className:o().subboxDesc,children:"TOTAL BONUSES"})]}),(0,i.jsxs)("div",{className:o().subbox,children:[(0,i.jsx)("div",{className:o().subboxValue,children:null==s?void 0:s.info_start_cost}),(0,i.jsx)("div",{className:o().subboxDesc,children:"STARTING COST"})]}),(0,i.jsxs)("div",{className:o().subbox,children:[(0,i.jsx)("div",{className:o().subboxValue,children:null==s?void 0:s.info_highest_payout}),(0,i.jsx)("div",{className:o().subboxDesc,children:"HIGHEST PAYOUT"})]}),(0,i.jsxs)("div",{className:o().subbox,children:[(0,i.jsx)("div",{className:o().subboxValue,children:null==s?void 0:s.info_running_average}),(0,i.jsx)("div",{className:o().subboxDesc,children:"AVERAGE X"})]}),(0,i.jsxs)("div",{className:o().subbox,children:[(0,i.jsx)("div",{className:o().subboxValue,children:null==s?void 0:s.info_required_average}),(0,i.jsx)("div",{className:o().subboxDesc,children:"REQUIRED X"})]}),(0,i.jsxs)("div",{className:o().subbox,children:[(0,i.jsx)("div",{className:o().subboxValue,children:null==s?void 0:s.info_amount_won}),(0,i.jsx)("div",{className:o().subboxDesc,children:"ENDING BAL"})]})]})}),(0,i.jsx)("div",{className:o().infoBoxes,children:(0,i.jsx)("div",{className:o().infoBox,children:(0,i.jsx)("div",{className:o().leaderboardRestWrapper,children:(0,i.jsx)("div",{className:o().players,children:r?r.map((e,s)=>(0,i.jsxs)("div",{className:o().playerRow,children:[(0,i.jsx)("div",{className:o().playerPosition,children:(0,i.jsx)("div",{className:o().playerPosWrapper,children:s+1})}),(0,i.jsx)("div",{className:o().playerName,children:(0,i.jsx)("div",{className:o().shortOnMobile,children:e.name||"N/A"})}),(0,i.jsx)("div",{className:o().playerWagered,children:e.bet_size||"$0"}),(0,i.jsx)("div",{className:o().playerWagered,children:e.multiplier||"0x"}),(0,i.jsx)("div",{className:o().playerPrize,children:e.payout||"0"})]},s)):(0,i.jsx)("div",{className:o().errorMessage,children:"Bonuses are not set yet."})})})})})]}),(0,i.jsx)("div",{className:o().bonushuntRight,children:(0,i.jsx)("div",{className:"".concat(o().infoBoxes),children:(0,i.jsxs)("div",{className:"".concat(o().infoBox," flex-col"),children:[(0,i.jsx)("div",{className:o().guessingHeader,children:(0,i.jsxs)("div",{className:o().guessingHeaderContent,children:[(0,i.jsx)("div",{className:o().guessingTitle,children:"GUESS & WIN!"}),(0,i.jsx)("div",{className:o().guessingDescription,children:"To predict the outcome and win a prize, make sure you are watching the stream!"})]})}),e?(0,i.jsx)("div",{className:o().guessingInput,children:h?j?(0,i.jsx)("div",{className:o().successMessage,children:"Prediction submitted! Good luck!"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"number",placeholder:"Enter your prediction",value:m,onChange:e=>b(e.target.value),className:o().predictionInput}),(0,i.jsx)("button",{onClick:g,className:o().submitButton,children:"Submit Prediction"})]}):(0,i.jsx)("div",{className:o().successMessage,children:"Prediction is not open yet."})}):(0,i.jsx)("div",{className:o().successMessage,children:"Please log in to submit your prediction."}),(0,i.jsx)("div",{className:o().balanceWinners,children:(0,i.jsx)("div",{className:o().winnersWrapper,children:N.length>0?N.map((e,s)=>(0,i.jsxs)("div",{className:"".concat(o().winner," ").concat(o().first),children:[(0,i.jsx)("div",{className:o().winnerPosition,children:s+1}),(0,i.jsx)("div",{className:o().winnerName,children:e.username||"No winner yet"}),(0,i.jsx)("div",{className:o().winnerPrediction,children:(0,i.jsx)("span",{children:0===s?"$50":1===s?"$20":"$10"})})]},e._id)):(0,i.jsx)("div",{className:"".concat(o().winner," ").concat(o().first),children:"No winner yet"})})})]})})})]})})]})}},3058:function(e,s,n){"use strict";var i=n(7437),a=n(7905),r=n.n(a);s.Z=()=>(0,i.jsx)("div",{className:r()["loader-overlay"],children:(0,i.jsx)("div",{className:r().loader})})},4147:function(e){e.exports={container:"Bonus_container__B0P8e",bonushuntWrapper:"Bonus_bonushuntWrapper___h2q6",bonushuntLeft:"Bonus_bonushuntLeft__Sg486",infoBoxes:"Bonus_infoBoxes__Zptjh",infoBox:"Bonus_infoBox__eEEob",sectionsTitle:"Bonus_sectionsTitle__fcY3I",center:"Bonus_center__mNxuT",bonushuntRight:"Bonus_bonushuntRight__tcQUD",leaderboardRestWrapper:"Bonus_leaderboardRestWrapper__1JIr8",subbox:"Bonus_subbox__cMFvq",subboxValue:"Bonus_subboxValue__nlHBs",subboxDesc:"Bonus_subboxDesc___qPO6",playerPrize:"Bonus_playerPrize__oWIoa",guessingHeader:"Bonus_guessingHeader__UST4W",small:"Bonus_small__xxSxv",guessingHeaderContent:"Bonus_guessingHeaderContent__AWO_8",guessingTitle:"Bonus_guessingTitle__UTH6R",guessingDescription:"Bonus_guessingDescription__LsrvR",guessingInput:"Bonus_guessingInput__WrKON",guessingClosed:"Bonus_guessingClosed__ypZ1Z",inputWrapper:"Bonus_inputWrapper__tjpsb",balanceWinners:"Bonus_balanceWinners__7QnFT",winnersWrapper:"Bonus_winnersWrapper__3jT__",winner:"Bonus_winner__k1EXI",winnerPosition:"Bonus_winnerPosition__71vgr",winnerName:"Bonus_winnerName__KItPs",winnerPrediction:"Bonus_winnerPrediction__Hqp59",first:"Bonus_first__KVaLG",second:"Bonus_second__tQM3X",third:"Bonus_third__XbCz_",multi:"Bonus_multi__0kxN3",containerNonsense:"Bonus_containerNonsense__Ntwxk",playerRow:"Bonus_playerRow__jHv4Z",playerPosition:"Bonus_playerPosition__MNYG9",playerName:"Bonus_playerName__pzzux",playerWagered:"Bonus_playerWagered__PGF_4",players:"Bonus_players__owqD2",playerPosWrapper:"Bonus_playerPosWrapper__q3UN5",predictionInput:"Bonus_predictionInput__l_73m",successMessage:"Bonus_successMessage__f_bNU",submitButton:"Bonus_submitButton__qedQK"}},7905:function(e){e.exports={loader:"Loader_loader__p9hLa",spin:"Loader_spin__Fllz7","loader-overlay":"Loader_loader-overlay__ANfFb"}}},function(e){e.O(0,[273,907,998,971,23,744],function(){return e(e.s=3023)}),_N_E=e.O()}]);